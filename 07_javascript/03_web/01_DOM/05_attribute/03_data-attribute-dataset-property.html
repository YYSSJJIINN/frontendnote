<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<h1>03. data 어트리뷰트와 dataset 프로퍼티</h1>

	<pre>
	data 어트리뷰트와 dataset 프로퍼티로 HTML 요소에 정의한 사용자 정의 어트리뷰트와 자바스크립트 간 데이터 교환이 가능하다. 
	data 어트리뷰트는 data- 접두사 다음에 임의의 이름을 붙여 사용한다.(HTML, CSS 케밥 표기법)
	HTMLElement.dataset 프로퍼티로 DOMStringMap 객체 반환 받으면 임의의 이름을 카멜 케이스(JS)로 변환한 프로퍼티를 가지고 있다. 
	</pre>

	<ul class="boardlist">
		<li data-board-id="13" data-category-id="1">망원 맛집 추천 부탁드려요!</li>
		<li data-board-id="15" data-category-id="2">한강 러닝 크루 구해요!</li>
		<li data-board-id="18" data-category-id="3">요즘 재태크 어떻게 하시나요?</li>
	</ul>
	<script>
		// 방법 1. 스프레드 문법으로 배열로 변환
		// const boardList = [...document.querySelector('.boardlist').children];
		// 방법 2. Array.from 메서드를 사용해 배열로 반환
		const boardList = Array.from(document.querySelector('.boardlist').children);

		console.log(boardList);
		console.log(typeof boardList);

		// DOMStringMap 객체 반환 출력
		boardList.forEach(board => console.log(board.dataset));

		const board = boardList.find(b => b.dataset.boardId === '1');
		console.log(board);

		// 취득한 요소 노드의 categoryId를 '4'로 변경
		board.dataset.categoryId = '4';
		console.log(board);

		/* 새로운 data 어트리뷰트를 동적으로 추가할 수도 있다.
		이 때, 카멜 케이스(boardWriter)가 케밥 케이스(board-writer)로 자동 변경되어 저장된다.
		*/
		console.dir(board.dataset);
		board.dataset.boardWriter = 'JS찬양자';
		console.dir(board.dataset);
	</script>
</body>
</html>